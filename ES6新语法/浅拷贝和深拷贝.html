<!--
 * @Author: your name
 * @Date: 2019-09-09 16:28:32
 * @LastEditTime: 2020-12-07 17:40:30
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \ES6新语法\浅拷贝和深拷贝.html
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title> </title>
    <link rel="stylesheet" href="">
</head>

<body>

<!--
    拷贝数据：
        基本数据类型：
            拷贝后会生成一份新的数据，修改拷贝后的数据不会影响到原数据
        对象/数组：
            拷贝后不会生成新的数据，而是拷贝引用，修改拷贝后的数据会影响原来的数据

    拷贝数据的方法：
        1.直接=赋值给一个变量   //浅拷贝
        2.Object.assign()     //浅拷贝
        3.Array.concat()      //浅拷贝
        4.Array.slice()       //浅拷贝
        slice和concat这两个方法，仅适用于 {不包含引用对象} 的一维数组的深拷贝,如果数组里有{}，则浅拷贝
        5.JSON.parse(JSON.stringify())  //深拷贝，但是拷贝的数据不能有函数
        6.三点运算符           //浅拷贝
    浅拷贝(对象/数组)：
        特点：拷贝的是引用，修改拷贝后的数据会改变原来的数据
    深拷贝：
        特点：拷贝的时候生成新数据，修改拷贝后的数据不会改变原数据
 -->
    <script>
        //1.直接=赋值给一个变量
        let arr1=[1,'abc',{name:'kobe'}]
        let brr1=arr1
        brr1[0]='a'
        brr1[2].name='wade'
        console.log(arr1)//["a", "abc", {name:'wade'}]改变了原数组

        //2.Object.assign()
        let arr2=[1,'abc',{name:'kobe'}]
        let brr2=Object.assign(arr2)
        brr2[0]='a'
        brr2[2].name='wade'
        console.log(arr2)//["a", "abc", {name:'wade'}]改变了原数组

        //3.Array.concat()
        let arr3=[1,'abc',{name:'kobe'}]
        let brr3=arr3.concat()
        brr3[0]='a'
        brr3[2].name='wade'
        console.log(arr3)//[1,'abc',{name:'wade'}]改变了原数组

        //4.Array.slice()
        let arr4=[1,'abc',{name:'kobe'}]
        let brr4=arr4.slice()
        brr4[0]='a'
        brr4[2].name='wade'
        console.log(arr4)//[1,'abc',{name:'wade'}]改变了原数组

        //5.JSON.parse(JSON.stringfy())
        let arr5=[1,'abc',{name:'kobe'}]
        let brr5=JSON.parse(JSON.stringify(arr5))
        brr5[0]='a'
        brr5[2].name='wade'
        console.log(arr5)//[1,'abc',{name:'kobe'}]不会改变原数组

        //三点运算符在数组中用
        let arr6=[1,'abc',{name:'kobe'}]
        let brr6=[...arr6]
        brr6[0]='a'
        brr6[2].name='wade'
        console.log(arr6)//[1,'abc',{name:'wade'}]会改变原数组

        //三点运算符在对象中用比较特殊，不会改变原对象
        let obj={name:'kobe',age:39}
        let obj1={...obj}
        obj1.name='wade'
        obj1.age=20
        console.log(obj)//{name: "kobe", age: 39}并没有改变原对象
    </script>
</body>

</html>